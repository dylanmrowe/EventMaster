<html>
<head>

    <!-- Include meta tag to ensure proper rendering and touch zooming -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Include jQuery Mobile stylesheets -->
    <!--link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"-->

    <!-- Include the jQuery library -->
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

    <!-- Include the jQuery Mobile library -->
    <!--script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script-->

</head>
<body>
    <label id="direction">NONE</label>
</body>

<script>
    function isTouchDevice() {
       return (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));
    }

    var significantDistance = 30;
    var pressPoint = {x:0, y:0};
    var releasePoint = {x:0, y:0};

    var RELEASE = function(e) {
        pressPoint.x = e.pageX;
        pressPoint.y = e.pageY;
        console.log("Pressed");

        return true;
    }

    var PRESS = function(e) {
        releasePoint.x = e.pageX;
        releasePoint.y = e.pageY;
        console.log("Released");
      
        var left = pressPoint.x - releasePoint.x;
        var right = releasePoint.x - pressPoint.x;
        var up = pressPoint.y - releasePoint.y;
        var down = releasePoint.y - pressPoint.y;

        var max = Math.max(left, right, up, down);
        var text = "NONE";
        if(max >= significantDistance) {
            if(max == left) {
                text = "LEFT";
            } else if(max == right) {
                text = "RIGHT";
            } else if(max == up) {
                text = "UP";
            } else if(max == down) {
                text = "DOWN";
            }
        }

        console.log(text);
        $("#direction").val(text);

        return true;
    }

    if(isTouchDevice()) {

    } else {
        $("body").mouseup(PRESS);
        $("body").mousedown(RELEASE);
    }
    
</script>
</html>

